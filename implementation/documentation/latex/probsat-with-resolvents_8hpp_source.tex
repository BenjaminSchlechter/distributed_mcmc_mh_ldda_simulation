\hypertarget{probsat-with-resolvents_8hpp_source}{}\doxysection{probsat-\/with-\/resolvents.hpp}
\label{probsat-with-resolvents_8hpp_source}\index{metropolis\_hastings/value\_computation/probsat-\/with-\/resolvents.hpp@{metropolis\_hastings/value\_computation/probsat-\/with-\/resolvents.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00001}00001 \textcolor{preprocessor}{\#ifndef PROBSAT\_WITH\_RESOLVENTS\_HPP}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00002}00002 \textcolor{preprocessor}{\#define PROBSAT\_WITH\_RESOLVENTS\_HPP}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00004}00004 \textcolor{preprocessor}{\#include <filesystem>}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00005}00005 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00006}00006 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}../configuration/configuration\_vector.hpp"{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}utility/resolvents\_manager.hpp"{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00011}00011 \textcolor{preprocessor}{\#include "{}utility/probsat-\/execution.hpp"{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}../../util/util.hpp"{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00014}00014 \textcolor{preprocessor}{\#include "{}../../util/shared\_tmpfile.hpp"{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00018}00018 \textcolor{keyword}{template}<\textcolor{keyword}{typename} cfg\_vector\_t, \textcolor{keyword}{typename} prec\_t, \textcolor{keywordtype}{bool} use\_bitfield>}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00019}00019 \textcolor{keyword}{requires} (}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00020}00020     std::is\_same<binary\_configuration\_vector<use\_bitfield>,}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00021}00021     \mbox{\hyperlink{structbinary__configuration__vector}{cfg\_vector\_t}}>::value}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00022}00022 )}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00023}\mbox{\hyperlink{classprobsat__resolvents}{00023}} \textcolor{keyword}{class} \mbox{\hyperlink{classprobsat__resolvents}{probsat\_resolvents}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00024}00024 \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00025}00025     \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00026}00026         \textcolor{keyword}{using} prec\_type = prec\_t;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00027}00027         \textcolor{keyword}{using} \mbox{\hyperlink{structbinary__configuration__vector}{cfg\_vector\_type}} = \mbox{\hyperlink{structbinary__configuration__vector}{cfg\_vector\_t}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00028}00028         \textcolor{keyword}{constexpr} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} is\_value\_computation\_implementation = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00030}00030     \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00032}\mbox{\hyperlink{classprobsat__resolvents_a3aad574a6529489080a150fcf5ced413}{00032}}         std::size\_t \mbox{\hyperlink{classprobsat__resolvents_a3aad574a6529489080a150fcf5ced413}{cnf\_num\_vars}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00035}\mbox{\hyperlink{classprobsat__resolvents_a73f8588ce6335056c8cbb2e045be5cb2}{00035}}         std::size\_t \mbox{\hyperlink{classprobsat__resolvents_a73f8588ce6335056c8cbb2e045be5cb2}{cnf\_num\_clauses}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00038}\mbox{\hyperlink{classprobsat__resolvents_a9f6aaa5291486a0d86e36fabd41ad3e3}{00038}}         std::string \mbox{\hyperlink{classprobsat__resolvents_a9f6aaa5291486a0d86e36fabd41ad3e3}{cnf\_file}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00041}\mbox{\hyperlink{classprobsat__resolvents_a0a91eb14ec15e1c225f2bd907f669010}{00041}}         std::string \mbox{\hyperlink{classprobsat__resolvents_a0a91eb14ec15e1c225f2bd907f669010}{cnf\_file\_header}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00044}\mbox{\hyperlink{classprobsat__resolvents_a453389fb7947be36066177ee0c187404}{00044}}         \textcolor{keyword}{using} \mbox{\hyperlink{classprobsat__resolvents_a453389fb7947be36066177ee0c187404}{seed\_distr\_t}} = std::uniform\_int\_distribution<probsat\_seed\_t>;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00046}00046     \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00048}\mbox{\hyperlink{classprobsat__resolvents_aa5c7afa5cab1431fc7a9cd9201b9a01a}{00048}}         std::string \mbox{\hyperlink{classprobsat__resolvents_aa5c7afa5cab1431fc7a9cd9201b9a01a}{workgroup\_description}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00052}\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation}{00052}}         \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00054}\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a6efc929368fa7ddc52034faacfff926e}{00054}}             \mbox{\hyperlink{classshared__tmpfile}{shared\_tmpfile}} \mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a6efc929368fa7ddc52034faacfff926e}{stmpfile}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00057}\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a02fc809e9b35ac5bb899a52218413b6c}{00057}}             \mbox{\hyperlink{classprobsat__resolvents_a453389fb7947be36066177ee0c187404}{seed\_distr\_t}} \mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a02fc809e9b35ac5bb899a52218413b6c}{seed\_distr}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00058}00058         \} \mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation}{prepared\_computation}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00062}\mbox{\hyperlink{classprobsat__resolvents_a77b73cf765efd81be2c5818548025d26}{00062}}         \mbox{\hyperlink{classresolvents__manager}{resolvents\_manager}} \mbox{\hyperlink{classprobsat__resolvents_a77b73cf765efd81be2c5818548025d26}{resolvents}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00066}\mbox{\hyperlink{classprobsat__resolvents_a8700acd243a5bda733329110b1dfcf3e}{00066}}         \mbox{\hyperlink{classprobsat__resolvents_a8700acd243a5bda733329110b1dfcf3e}{probsat\_resolvents}}(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00067}00067             std::string cnf\_filename,}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00068}00068             std::string resolvents\_fn}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00069}00069         ) :}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00070}00070             cnf\_num\_vars(0),}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00071}00071             cnf\_num\_clauses(0),}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00072}00072             cnf\_file(),}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00073}00073             cnf\_file\_header(),}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00074}00074             resolvents()}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00075}00075         \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00076}00076             std::ptrdiff\_t fsize = slurp\_file(cnf\_file, cnf\_filename);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00077}00077             \textcolor{keywordflow}{if} ((0 > fsize) || ((std::size\_t) fsize != cnf\_file.size()))}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00078}00078             \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00079}00079                 \textcolor{keywordflow}{throw} std::runtime\_error(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00080}00080                     \textcolor{stringliteral}{"{}cant read cnf file "{}} + cnf\_filename);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00081}00081             \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00083}00083             std::string cfg\_marker = \textcolor{stringliteral}{"{}p cnf "{}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00084}00084             std::size\_t pos = cnf\_file.find(cfg\_marker);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00085}00085             std::size\_t eol = cnf\_file.find(\textcolor{stringliteral}{"{}\(\backslash\)n"{}}, pos+1, 1);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00086}00086             \textcolor{keywordflow}{if} ((std::string::npos == pos) || (std::string::npos == eol))}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00087}00087             \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00088}00088                 \textcolor{keywordflow}{throw} std::runtime\_error(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00089}00089                     \textcolor{stringliteral}{"{}can't find config line starting with '"{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00090}00090                     + cfg\_marker + \textcolor{stringliteral}{"{}' in cnf file "{}} + cnf\_filename);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00091}00091             \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00092}00092             cnf\_file[pos] = \textcolor{charliteral}{'c'}; \textcolor{comment}{// comment out the cnf line}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00093}00093             std::string buf = cnf\_file.substr(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00094}00094                 pos+cfg\_marker.length(), eol-\/pos-\/cfg\_marker.length());}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00095}00095             std::istringstream iss(buf);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00096}00096             iss >> cnf\_num\_vars;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00097}00097             iss >> cnf\_num\_clauses;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00099}00099             cnf\_file\_header = cnf\_file.substr(0, eol+1);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00100}00100             cnf\_file = cnf\_file.substr(eol+1);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00102}00102             \textcolor{keywordflow}{if} (!resolvents.\mbox{\hyperlink{classresolvents__manager_ab8892111a77511e6b8c1208c7b13c608}{load}}(resolvents\_fn)) \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00103}00103                 \textcolor{keywordflow}{throw} std::runtime\_error(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00104}00104                     \textcolor{stringliteral}{"{}cant read resolvents file "{}} + resolvents\_fn);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00105}00105             \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00106}00106         \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00107}00107         }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00108}00108         \textcolor{comment}{// \string~probsat\_resolvents() \{}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00109}00109             \textcolor{comment}{// std::cout << "{}\string~probsat\_resolvents"{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00110}00110         \textcolor{comment}{// \}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00111}00111 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00113}\mbox{\hyperlink{classprobsat__resolvents_a647f380d8b11a6c406aecfff00bebfc1}{00113}}         \mbox{\hyperlink{classprobsat__resolvents_a647f380d8b11a6c406aecfff00bebfc1}{probsat\_resolvents}}(\textcolor{keyword}{const} \mbox{\hyperlink{classprobsat__resolvents}{probsat\_resolvents}} \&other) = \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00115}00115 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00117}\mbox{\hyperlink{classprobsat__resolvents_ab737f9c8d639ced4b1e74144de307683}{00117}}         \textcolor{keywordtype}{void} \mbox{\hyperlink{classprobsat__resolvents_ab737f9c8d639ced4b1e74144de307683}{prepare\_computation\_with\_cfg\_vector}}(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00118}00118             \textcolor{keyword}{const} \mbox{\hyperlink{structbinary__configuration__vector}{cfg\_vector\_t}} \&v, \mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation}{prepared\_computation}} \&pcom)}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00119}00119         \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00120}00120             pcom.\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a02fc809e9b35ac5bb899a52218413b6c}{seed\_distr}}.reset();}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00122}00122             pcom.\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a6efc929368fa7ddc52034faacfff926e}{stmpfile}} = std::move(\mbox{\hyperlink{classshared__tmpfile}{shared\_tmpfile}}(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00123}00123                 \textcolor{stringliteral}{"{}sat-\/with-\/resolvents-\/"{}} + workgroup\_description));}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00124}00124             create\_cnf\_file\_from\_cfg\_vector(v, pcom.\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a6efc929368fa7ddc52034faacfff926e}{stmpfile}}.\mbox{\hyperlink{classshared__tmpfile_a6d5607f94ab7ec4a9eacbe0215f56030}{fptr}});}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00125}00125         \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00127}00127 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00129}00129         \textcolor{keyword}{template}<\textcolor{keyword}{typename} prng\_t, \textcolor{keyword}{typename} rpmanager\_t>}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00130}\mbox{\hyperlink{classprobsat__resolvents_accb9aa0288fc60a6b06f892400346f12}{00130}}         \textcolor{keyword}{auto} \mbox{\hyperlink{classprobsat__resolvents_accb9aa0288fc60a6b06f892400346f12}{operator()}}(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00131}00131             prng\_t \&prng,}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00132}00132             rpmanager\_t \&rpmanager,}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00133}00133             \mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation}{prepared\_computation}} \&pcom)\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00134}00134 \textcolor{keyword}{        }\{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00135}00135             std::string satfile = pcom.\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a6efc929368fa7ddc52034faacfff926e}{stmpfile}}.\mbox{\hyperlink{classshared__tmpfile_ad8cd6d95bd4fa150f7f381f59f39ed3e}{fname}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00136}00136             probsat\_seed\_t seed = pcom.\mbox{\hyperlink{structprobsat__resolvents_1_1prepared__computation_a02fc809e9b35ac5bb899a52218413b6c}{seed\_distr}}(prng);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00138}00138             \textcolor{comment}{// std::cout << "{}c PWR preparing "{}}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00139}00139                 \textcolor{comment}{// << satfile << "{} with seed "{} << seed << std::endl;}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00141}00141             \textcolor{keywordflow}{return} rpmanager.prepare\_call(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00142}00142                 \textcolor{stringliteral}{"{}execute\_probsat"{}}, satfile, seed);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00143}00143         \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00145}00145         \textcolor{keywordtype}{void} finish\_computation(prepared\_computation \&pcom) \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00146}00146             pcom.stmpfile.remove();}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00147}00147         \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00149}00149     \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00152}\mbox{\hyperlink{classprobsat__resolvents_a48f9af5a8053ac5bfadf07a5ccaca0d2}{00152}}         FILE *\mbox{\hyperlink{classprobsat__resolvents_a48f9af5a8053ac5bfadf07a5ccaca0d2}{create\_cnf\_file\_from\_cfg\_vector}}(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00153}00153             \textcolor{keyword}{const} \mbox{\hyperlink{structbinary__configuration__vector}{cfg\_vector\_t}} \&v, FILE *fptr)\textcolor{keyword}{ const}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00154}00154 \textcolor{keyword}{        }\{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00155}00155             \textcolor{comment}{// TODO}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00156}00156             assert(v.\mbox{\hyperlink{structbinary__configuration__vector_a70b954e819ce63870f9bf44e9aec8737}{data}}.size() <= resolvents.\mbox{\hyperlink{classresolvents__manager_a66d9fa957a65e97ca0991f895706a438}{get\_num\_resolvents}}());}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00157}00157             \textcolor{comment}{// assert(v.data.size() == resolvents.get\_num\_resolvents());}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00159}00159             \textcolor{comment}{// FILE *fptr = tmpfile();}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00160}00160             assert(\textcolor{keyword}{nullptr} != fptr);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00162}00162             std::size\_t num\_clauses = cnf\_num\_clauses;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00163}00163             \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} \mbox{\hyperlink{structbinary__configuration__vector_a89ab02ceefc7415d223608a6a41dda29}{cfg\_vector\_t::size\_type}} i = 0;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00164}00164                 i < v.\mbox{\hyperlink{structbinary__configuration__vector_a70b954e819ce63870f9bf44e9aec8737}{data}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00165}00165             \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00166}00166                 \textcolor{keywordflow}{if} (0 != v.\mbox{\hyperlink{structbinary__configuration__vector_a70b954e819ce63870f9bf44e9aec8737}{data}}[i]) \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00167}00167                     num\_clauses++;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00168}00168                 \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00169}00169             \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00170}00170 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00171}00171             assert(cnf\_file\_header.size() ==}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00172}00172                 fwrite(}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00173}00173                     cnf\_file\_header.data(),}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00174}00174                     1,}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00175}00175                     cnf\_file\_header.size(),}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00176}00176                     fptr)}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00177}00177                 || perror\_(\textcolor{stringliteral}{"{}fwrite failed"{}}));}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00178}00178             std::string cfg\_line = std::string(\textcolor{stringliteral}{"{}p cnf "{}})}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00179}00179                 + std::to\_string(cnf\_num\_vars) + std::string(\textcolor{stringliteral}{"{} "{}})}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00180}00180                 + std::to\_string(num\_clauses) + std::string(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00181}00181 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00182}00182             cfg\_line = \textcolor{stringliteral}{"{}c after adding resolvents:\(\backslash\)n"{}} + cfg\_line;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00184}00184             assert(cfg\_line.size() ==}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00185}00185                 fwrite(cfg\_line.data(), 1, cfg\_line.size(), fptr)}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00186}00186                 || perror\_(\textcolor{stringliteral}{"{}fwrite failed"{}}));}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00187}00187 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00188}00188             assert(cnf\_file.size() ==}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00189}00189                 fwrite(cnf\_file.data(), 1, cnf\_file.size(), fptr)}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00190}00190                 || perror\_(\textcolor{stringliteral}{"{}fwrite failed"{}}));}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00192}00192             \textcolor{keyword}{typename} \mbox{\hyperlink{structbinary__configuration__vector_a89ab02ceefc7415d223608a6a41dda29}{cfg\_vector\_t::size\_type}} num\_clauses\_to\_write}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00193}00193                 = num\_clauses -\/ cnf\_num\_clauses;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00194}00194             \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} \mbox{\hyperlink{structbinary__configuration__vector_a89ab02ceefc7415d223608a6a41dda29}{cfg\_vector\_t::size\_type}} i = 0;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00195}00195                 i < v.\mbox{\hyperlink{structbinary__configuration__vector_a70b954e819ce63870f9bf44e9aec8737}{data}}.size(); i++)}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00196}00196             \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00197}00197                 \textcolor{keywordflow}{if} (0 != v.\mbox{\hyperlink{structbinary__configuration__vector_a70b954e819ce63870f9bf44e9aec8737}{data}}[i]) \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00198}00198                     std::string rv = resolvents.\mbox{\hyperlink{classresolvents__manager_a3b0b02f3cf3b86ff4bc3ef3b50af2e2f}{get\_resolvent}}(i);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00199}00199                     \textcolor{keywordflow}{if} (1 < num\_clauses\_to\_write) \{}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00200}00200                         rv += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00201}00201                     \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00202}00202 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00203}00203                     assert(rv.size() ==}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00204}00204                         fwrite(rv.data(), 1, rv.size(), fptr));}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00205}00205                     num\_clauses\_to\_write-\/-\/;}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00206}00206                 \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00207}00207             \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00208}00208 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00209}00209             assert(0 == num\_clauses\_to\_write);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00210}00210             }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00211}00211             assert(0 == fflush(fptr) || perror\_(\textcolor{stringliteral}{"{}fflush failed"{}}));}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00213}00213             \textcolor{keywordflow}{return} std::move(fptr);}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00214}00214         \}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00215}00215 \};}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00216}00216 }
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00217}00217 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{probsat-with-resolvents_8hpp_source_l00218}00218 }

\end{DoxyCode}
